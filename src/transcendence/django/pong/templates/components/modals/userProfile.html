{% load static i18n %}
{% block content %}

<!-- User Profile Modal -->
<div id="userProfileModal" class="modal fade custom-modal-size" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="userProfileModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background-color: rgba(var(--bs-body-bg-rgb), 0.9);">
      <div class="modal-header">
        <h1 id="userProfileModalLabel" class="modal-title">
          <i class="bi bi-person-lines-fill me-2"></i>
          {% trans "User Profile" %}
        </h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div id="modalUserProfileContent" class="d-flex justify-content-center mt-3">
          <div class="text-center">
            <h2 class="fs-3 mb-1">
              <i class="bi bi-graph-up me-2"></i>
              {% trans "Stats" %}
            </h2>
    
            <hr>
    
            <!-- Display Name -->
            <div class="d-flex justify-content-center align-items-center mb-3">
              <h4 class="fw-bold">{{ user.display_name }}</h4>
            </div>
            <!-- Avatar -->
            <div class="position-relative d-inline-block">
              <img src="{{ MEDIA_URL }}{{ user.avatar }}" class="avatar rounded-circle mb-3" alt="Avatar" style="width: 150px; height: 150px; object-fit: cover;">
            </div>
      
            <div class="d-flex gap-3 justify-content-center fs-5 mt-3">
              <p><strong>{% trans "Victories:" %}</strong> {{ victories }}</p>
              <p><strong>{% trans "Losses:" %}</strong> {{ losses }}</p>
            </div>
            <h3 class="text-center mt-3">{% trans "Match History" %}</h3>
            <table class="table table-striped table-hover">
              <thead>
                <tr class="table">
                  <th scope="col" class="px-3">{% trans "Date" %}</th>
                  <th scope="col" class="px-3">{% trans "Display Name" %}</th>
                  <th scope="col" class="px-3">{% trans "Opponent Name" %}</th>
                  <th scope="col" class="px-3">{% trans "User Score" %}</th>
                  <th scope="col" class="px-3">{% trans "Opponent Score" %}</th>
                </tr>
              </thead>
              <tbody>
                {% for match in matches %}
                  <tr>
                    <td class="px-3">{{ match.finished_at }}</td>
                    <td class="px-3">{{ match.user_display_name }}</td>
                    <td class="px-3">{{ match.opponent_display_name }}</td>
                    <td class="px-3">{{ match.user_score }}</td>
                    <td class="px-3">{{ match.opponent_score }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock content %}
